


INSTALL(1)            LilyPond documentation           INSTALL(1)


NNNNAAAAMMMMEEEE
       INSTALL - installing GNU LilyPond

DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
       This page documents installation  and compilation of GNU
       LilyPond

PPPPRRRREEEERRRREEEEQQQQUUUUIIIISSSSIIIITTTTEEEESSSS
       For compilation you need.

       +o    A Unix system with GNU tools. GNU LilyPond is known
            to run on these unices: Linux, AIX, Digital Unix and
            Solaris.

            If you have the Cygnus WINDOWS32 port of the GNU
            utils, it will even work in Windows NT/95, but don't
            promise to support it.

       +o    GNU C++ v2.7 or better, with libg++ installed.
            Version 2.7.2 or better recommended.

       +o    GNU make.

       +o    Flex (2.5.1 or better).

       +o    Bison. (Version 1.25 or better)

RRRRUUUUNNNNNNNNIIIINNNNGGGG
       GNU LilyPond does use a lot of resources. For operation
       you need the following:

       +o    TeX

       +o    The MusixTeX fonts (I included those found in
            MusixTeX T.73). Beware, the clef symbol seems to have
            changed its position in some versions, (notably
            Egler's, a.k.a. OpusTeX). The MusixTeX fonts are
            included in MusixTeX T.73, which can be had from any
            CTAN site, eg at

                    ftp://ftp.shsu.edu/tex-archive/macros/musixtex/taupin
                    ftp://ftp.tex.ac.uk/tex-archive/macros/musixtex/taupin
                    ftp://ftp.dante.de/tex-archive/macros/musixtex/taupin

            You only need the contents of the _m_f_/ subdirectory of
            the package.

RRRREEEECCCCOOOOMMMMMMMMEEEENNNNDDDDEEEEDDDD
       Although not strictly necessary, these are recommended to
       have.

       +o         Perl.  Most scripts are written in Perl. The
                 documentation was created with the perl's Plain
                 Old Documentation.



28/Jul/97                LilyPond 0.0.76                        1





INSTALL(1)            LilyPond documentation           INSTALL(1)


       +o         (GNU) find

       +o         A fast computer (a full page of music typically
                 takes 1 minute on my 486/133, using the
                 --------eeeennnnaaaabbbblllleeee----cccchhhheeeecccckkkkiiiinnnngggg compile. It's lot slower than
                 most MusiXTeX preprocessors)

CCCCOOOONNNNFFFFIIIIGGGGUUUURRRRIIIINNNNGGGG aaaannnndddd CCCCOOOOMMMMPPPPIIIILLLLIIIINNNNGGGG
       to install GNU LilyPond, simply type:

               configure
               make install

       This will install the following files:

               /usr/local/man/man1/mi2mu.1
               /usr/local/man/man5/mudela.5
               /usr/local/man/man1/lilypond.1
               /usr/local/lib/libflower.{so,a}
               /usr/local/bin/lilypond
               /usr/local/bin/mi2mu
               /usr/local/share/lilypond/*
               /usr/lib/texmf/texmf/tex/lilypond/*

       The TeX include directory is detected dynamically, but it
       can be adjusted with --------eeeennnnaaaabbbblllleeee----tttteeeexxxx----pppprrrreeeeffffiiiixxxx and --------eeeennnnaaaabbbblllleeee----tttteeeexxxx----
       ddddiiiirrrr. The above assumes that you are root and have the gnu
       development tools, and your make is gnu make.  If this is
       not the case, you can adjust your environment variables to
       your taste:

               export CPPFLAGS="-I /home/me/my_include -DWEIRD_FOOBAR"
               configure

       CPPFLAGS are the preprocessor flags.

       the configure script is Cygnus configure, and it will
       accept --------hhhheeeellllpppp. If you are not root, you will probably have
       to make it with

               configure --prefix=/home/me_myself_and_I/

       In this case, you will have to set MFINPUTS, and TEXINPUTS
       accordingly.

       If you want to install GNU LilyPond in _/_u_s_r_/_l_o_c_a_l, and
       your TeX has no default hooks for local stuff (mine is
       broken too), you can do:

               configure --prefix=/usr/local --enable-tex-prefix=/usr/lib/texmf

       Since GNU LilyPond currently is beta, you are advised to
       also use




28/Jul/97                LilyPond 0.0.76                        2





INSTALL(1)            LilyPond documentation           INSTALL(1)


               --enable-debugging
               --enable-checking

       other options include:

       --enable-shared
                Make a shared library (gnu/linux, solaris (?)
                only )

       --enable-printing
                Enable debugging print routines (lilypond ----dddd
                option)

       --enable-optimise
                Set maximum optimisation

       --enable-profiling
                Compile with support for profiling

       --enable-tex-prefix
                Set the directory where texmf lives

       --enable-tex-dir
                Set then directory tex input is in (detected as a
                subdir of tex-prefix)

       --enable-mf-dir
                Set then directory mf input is in (idem)

                All options are documented in the _c_o_n_f_i_g_u_r_e help
                The option --------eeeennnnaaaabbbblllleeee----ooooppppttttiiiimmmmiiiisssseeee is recommended for
                Real Life usage.

                If you do

                        make all

                everything will be compiled, but nothing will be
                installed.  The resulting binaries can be found
                in the subdirectories _o_u_t_/ (which contain all
                files generated during compilation).

IIIINNNNSSSSTTTTAAAALLLLLLLLIIIINNNNGGGG
       If you have done a successful make, then a simple

               make install

       should do the trick.

       Install the musixtex fonts in a directory which TeX and MF
       knows (if you are root, look for a directory which
       contains the directories with AMS and CM source (*.mf)
       files. Create a subdir lilypond or musixtex and copy the
       fonts into that). Do not forget to rehash TeX (if



28/Jul/97                LilyPond 0.0.76                        3





INSTALL(1)            LilyPond documentation           INSTALL(1)


       applicable)

       Example: my fonts are in
       _/_u_s_r_/_l_o_c_a_l_/_l_i_b_/_t_e_x_f_o_n_t_s_/_m_u_s_i_x_t_e_x_/, and I have a symlink
       pointing to that in
       _/_u_s_r_/_l_i_b_/_t_e_x_m_f_/_t_e_x_m_f_/_f_o_n_t_s_/_s_o_u_r_c_e_/_p_u_b_l_i_c_/. After I copied
       the files, I ran "texhash"

       ftp://hprib.lps.u-psud.fr/pub/music_zips/musixtex.zip

CCCCAAAAVVVVEEEEAAAATTTTSSSS
       +o         The -O2 option to gcc triggers a gcc bug on DEC
                 Alpha in dstream.cc. You should turn off this
                 flag for this file.

EEEEXXXXAAAAMMMMPPPPLLLLEEEE
       This is what I type in my xterm:

               lilypond someinput.ly
               tex lelie.tex
               xdvi test&

       This is what the output looks like over here:

               hw:~/musix/spacer$ lilypond input/kortjakje.ly
               GNU LilyPond 0.0.71 #20/FlowerLib 1.1.20 #0
               Parsing ... [/home/hw/share/lilypond/init//symbol.ini  <..snip..>
               ..      .ini]][input/kortjakje.ly]
               Creating elements ...
               Preprocessing elements...
               Calculating column positions ... [3][8][13][17][21][25]
               Postprocessing elements...
               TeX output to lelie.tex ...

               hw:~/musix/spacer$ tex lelie
               This is TeX, Version 3.14159 (C version 6.1)
               (lelie.tex
               Hyphenation patterns for english, dutch, german, loaded.
               (/home/hw/lib/texmf/tex/lilypond/lilyponddefs.tex) [1] )
               Output written on lelie.dvi (1 page, 8944 bytes).
               Transcript written on lelie.log.

               hw:~/musix/spacer$ xdvi lelie&
               [1] 855

       Check out the input files, some of them have comments
       Please refer to the man page for more information.

RRRREEEEDDDDHHHHAAAATTTT LLLLIIIINNNNUUUUXXXX
       RedHat Linux users should be able to get a RPM. A spec
       file is in _m_a_k_e_/_o_u_t_/_l_i_l_y_p_o_n_d_._s_p_e_c. You should be able to
       create an rpm as a normal user. Be sure you have a
       ~/.rpmrc, and edit the RPM-dir in _V_a_r_i_a_b_l_e_s_._m_a_k_e. (If you
       create the RPM as a normal user the permissions will not



28/Jul/97                LilyPond 0.0.76                        4





INSTALL(1)            LilyPond documentation           INSTALL(1)


       be set correctly, unfortunately)

WWWWIIIINNNNDDDDOOOOZZZZEEEE
       Windows NT:

       you need the cygnus windows32 gnu port development stuff;
       have a look at http://www.cygnus.com/gnu-win32.

       to make GNU LilyPond under, brr, aargh, well, simply type:

               bash configure
               make windows32


AAAAUUUUTTTTHHHHOOOORRRRSSSS
       Han-Wen Nienhuys <hanwen@stack.nl>

       Jan Nieuwenhuizen <jan@digicash.com>

       Have fun!





































28/Jul/97                LilyPond 0.0.76                        5


